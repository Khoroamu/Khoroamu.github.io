<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>All Posts - KHOROAMU</title>
        <link>https://khoroamu.github.io/posts/</link>
        <description>All Posts | KHOROAMU</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Fri, 30 Sep 2022 10:12:41 &#43;0800</lastBuildDate><atom:link href="https://khoroamu.github.io/posts/" rel="self" type="application/rss+xml" /><item>
    <title>CVE-2021-21220漏洞分析</title>
    <link>https://khoroamu.github.io/cve-2021-21220%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/</link>
    <pubDate>Fri, 30 Sep 2022 10:12:41 &#43;0800</pubDate>
    <author>KHOROAMU</author>
    <guid>https://khoroamu.github.io/cve-2021-21220%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/</guid>
    <description><![CDATA[该漏洞在Pwn2Own 2021中被利用，提交者在相关issue中提交了exploit；关于漏洞的修补可以查看对应commit
从diff结果可以看出修补的措施很简单；在修补之前，opcode可能为kX64Movsxlq，对应符号扩展；也可能为kX64Movl，对应零扩展
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 diff --git [a/src/compiler/backend/x64/instruction-selector-x64.cc](https://chromium.googlesource.com/v8/v8/+/720176a523544721973a8ceba89e9c7af9405963/src/compiler/backend/x64/instruction-selector-x64.cc) [b/src/compiler/backend/x64/instruction-selector-x64.cc](https://chromium.googlesource.com/v8/v8/+/3066b7b2fcb3aa66541a4818e1165e34acc52639/src/compiler/backend/x64/instruction-selector-x64.cc) index 7df4fcb..424edf5 100644 --- a/src/compiler/backend/x64/instruction-selector-x64.cc +++ b/src/compiler/backend/x64/instruction-selector-x64.cc @@ -1279,7 +1279,9 @@ opcode = load_rep.IsSigned() ? kX64Movsxwq : kX64Movzxwq; break; case MachineRepresentation::kWord32: - opcode = load_rep.IsSigned() ? kX64Movsxlq : kX64Movl; + // ChangeInt32ToInt64 must interpret its input as a _signed_ 32-bit + // integer, so here we must sign-extend the loaded value in any case.]]></description>
</item>
</channel>
</rss>
